<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust Enhanced User Guide</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="install.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="build/index.html"><strong aria-hidden="true">2.</strong> Cargo Build System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="build/settings.html"><strong aria-hidden="true">2.1.</strong> Build Settings</a></li><li class="chapter-item expanded "><a href="build/messages.html"><strong aria-hidden="true">2.2.</strong> Diagnostic Messages</a></li><li class="chapter-item expanded "><a href="build/custom.html"><strong aria-hidden="true">2.3.</strong> Custom Build Variants</a></li></ol></li><li class="chapter-item expanded "><a href="on-save.html"><strong aria-hidden="true">3.</strong> On-save checking</a></li><li class="chapter-item expanded "><a href="settings.html"><strong aria-hidden="true">4.</strong> Settings</a></li><li class="chapter-item expanded "><a href="context.html"><strong aria-hidden="true">5.</strong> Context Menu</a></li><li class="chapter-item expanded "><a href="lsp.html"><strong aria-hidden="true">6.</strong> Language Servers</a></li><li class="chapter-item expanded "><a href="formatting.html"><strong aria-hidden="true">7.</strong> Formatting</a></li><li class="chapter-item expanded "><a href="tips.html"><strong aria-hidden="true">8.</strong> Tips</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Rust Enhanced User Guide</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/rust-lang/rust-enhanced/tree/master/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Rust Enhanced is a <a href="https://www.sublimetext.com/">Sublime Text</a> package which adds extended support for the <a href="https://www.rust-lang.org/">Rust Programming Language</a>.
This is a replacement for the built-in &quot;Rust&quot; package and provides several extensions:</p>
<ul>
<li>Enhanced syntax highlighting which handles more recent language changes and improved highlighting.</li>
<li>Custom highlighting for Cargo output.</li>
<li>A custom build system with complete configuration of running Cargo and supporting Rust's extended error messages.</li>
<li>Automatic checking every time you save a file.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>The &quot;Rust Enhanced&quot; package should be installed with <a href="https://packagecontrol.io/">Package Control</a>.
See <a href="https://packagecontrol.io/installation">https://packagecontrol.io/installation</a> for instructions on how to install Package Control.</p>
<p>After you have Package Control installed, follow these steps:</p>
<ol>
<li>Open the command palette (<code>Control Shift P</code> or <code>Command Shift P</code>) in Sublime Text.</li>
<li>Type the command <code>Package Control: Install Package</code></li>
<li>Type the name <code>Rust Enhanced</code> and choose it from the list.</li>
</ol>
<p>Installing Rust Enhanced should automatically disable the built-in Rust package.</p>
<h2 id="toml-syntax-highlighting"><a class="header" href="#toml-syntax-highlighting">TOML syntax highlighting</a></h2>
<p>TOML syntax highlighting is provided by a separate package called <a href="https://packagecontrol.io/packages/TOML"><code>TOML</code></a>.
It is recommended to install this for editing <code>Cargo.toml</code> and other TOML files.
Use the <code>Package Control: Install Package</code> command and choose the <code>TOML</code> package.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cargo-build-system"><a class="header" href="#cargo-build-system">Cargo Build System</a></h1>
<p>Rust Enhanced has a custom build system tailored for running Cargo.
It will display errors and warnings inline using Sublime's phantoms (see <a href="build/messages.html">Diagnostic Messages</a> for settings to control how messages are displayed).
It also supports a variety of configuration options to control how Cargo is run.</p>
<p><img src="https://cloud.githubusercontent.com/assets/43198/22944409/7780ab9a-f2a5-11e6-87ea-0e253d6c40f6.png" alt="testingrust" /></p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>When Sublime is set to use &quot;Automatic&quot; build system detection, it will choose the build system based on the syntax of the currently active view.
When you have a file open with the <code>.rs</code> extension, Sublime will automatically select the Rust Enhanced syntax highlighting, and the Automatic build system will pick Rust Enhanced to perform the build.
If you want to ensure the Rust Enhanced build system is used regardless of which file is open, choose it via <code>Tools &gt; Build System &gt; RustEnhanced</code>.</p>
<p>The basic Sublime commands available are:</p>
<table><thead><tr><th>Command</th><th>Keyboard</th><th>Menu</th><th>Description</th></tr></thead><tbody>
<tr><td>Build</td><td>Ctrl-B / ⌘-B</td><td>Tools &gt; Build</td><td>Runs the currently active build variant.</td></tr>
<tr><td>Build With...</td><td>Ctrl-Shift-B / ⌘-Shift-B</td><td>Tools &gt; Build With...</td><td>Choose the build variant.</td></tr>
<tr><td>Cancel Build</td><td>Ctrl-Break / Ctrl-C</td><td>Tools &gt; Cancel Build</td><td>Abort the currently running build.</td></tr>
<tr><td>Show Build Results</td><td></td><td>Tools &gt; Build Results &gt; Show Build Results</td><td>Opens the output panel with build results.</td></tr>
<tr><td>Next Result</td><td>F4</td><td>Tools &gt; Build Results &gt; Next Result</td><td>Go to the next warning/error message.</td></tr>
<tr><td>Previous Result</td><td>Shift-F4</td><td>Tools &gt; Build Results &gt; Previous Result</td><td>Go to the previous warning/error message.</td></tr>
</tbody></table>
<p>See the <a href="build/settings.html">Build Settings</a> chapter for information on customizing how the build commands are run.</p>
<h2 id="build-variants"><a class="header" href="#build-variants">Build Variants</a></h2>
<p>When you select the RustEnhanced build system in Sublime, there are a few variants that you can select with Tools &gt; Build With... (Ctrl-Shift-B / ⌘-Shift-B).
They are:</p>
<table><thead><tr><th>Variant</th><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td>(Default)</td><td><code>cargo build</code></td><td>Builds the project.</td></tr>
<tr><td>Automatic</td><td></td><td>Automatically detect the command to run based on the currently active view (tests do <code>test</code>, binaries and examples do <code>run</code>, libraries do <code>build</code>, benches do <code>bench</code>).</td></tr>
<tr><td>Run</td><td><code>cargo run</code></td><td>Runs the binary.</td></tr>
<tr><td>Run (with args)...</td><td><code>cargo run -⁠-⁠ <em>args</em></code></td><td>Runs the binary with optional arguments you specify.</td></tr>
<tr><td>Test</td><td><code>cargo test</code></td><td>Runs unit and integration tests.</td></tr>
<tr><td>Test (with args)...</td><td><code>cargo test -⁠-⁠ <em>args</em></code></td><td>Runs the test with optional arguments you specify.</td></tr>
<tr><td>Bench</td><td><code>cargo bench</code></td><td>Runs benchmarks.</td></tr>
<tr><td>Clean</td><td><code>cargo clean</code></td><td>Removes all built files.</td></tr>
<tr><td>Document</td><td><code>cargo doc</code></td><td>Builds package documentation.</td></tr>
<tr><td>Clippy</td><td><code>cargo clippy</code></td><td>Runs <a href="https://github.com/Manishearth/rust-clippy">Clippy</a>. Clippy must be installed, and currently requires the nightly toolchain.</td></tr>
<tr><td>Script</td><td><code>cargo script $path</code></td><td>Runs <a href="https://github.com/DanielKeep/cargo-script">Cargo Script</a>. Cargo Script must be installed. This is an addon that allows you to run a Rust source file like a script (without a Cargo.toml manifest).</td></tr>
</tbody></table>
<p>You can add custom build variants, see <a href="build/custom.html">Custom Build Variants</a> for more.</p>
<h2 id="multiple-cargo-projects-advanced"><a class="header" href="#multiple-cargo-projects-advanced">Multiple Cargo Projects (Advanced)</a></h2>
<p>You can have multiple Cargo projects in a single Sublime project (such as when using Cargo workspaces, or if you simply have multiple projects in different folders).</p>
<p>If you have multiple Cargo projects in your Sublime window, the build system will use the currently active view to attempt to determine which project to build.
Otherwise it will show an input panel to select a package.</p>
<p>You can set the <code>default_path</code> setting to always use a specific path.
It is specified at the same level as <code>paths</code> (see <a href="build/settings.html">Build Settings</a>).
This can be set using the  <code>Rust: Configure Cargo Build</code> command.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="build-settings"><a class="header" href="#build-settings">Build Settings</a></h1>
<p>A variety of settings are available to customize how Cargo is run.
These settings can be set globally, per-Sublime project, per-Cargo package, for specific build variants (&quot;Build&quot;, &quot;Run&quot;, &quot;Test&quot;, etc.), or specific Cargo targets (<code>--lib</code>, <code>--example foo</code>, etc.).</p>
<h2 id="configure-command"><a class="header" href="#configure-command">Configure Command</a></h2>
<p>To help you configure the Cargo build settings, run the <code>Rust: Configure Cargo Build</code> command from Sublime's Command Palette (Ctrl-Shift-P / ⌘-Shift-P).
This will ask you a series of questions for the setting to configure.
It will update your <code>.sublime-project</code> or <code>Users/RustEnhanced.sublime-settings</code> file depending on which options you pick.
The first question is the setting you want to update:</p>
<table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody>
<tr><td>Target</td><td>Specify an explicit target (<code>--bin</code>, <code>--lib</code>, <code>--example</code>, etc.). The &quot;Automatic Detection&quot; option will attempt to determine which target to use based on the current active view in Sublime (a test file will use <code>--test</code> or a binary will use <code>--bin</code>, etc.).</td></tr>
<tr><td>Profile</td><td>Determine whether or not the <code>--release</code> flag is used.</td></tr>
<tr><td>Target Triple</td><td>The <code>--target</code> option to specify a target triple (such as <code>x86_64-apple-darwin</code>).</td></tr>
<tr><td>Toolchain</td><td>Set the Rust toolchain to use (<code>nightly</code>, <code>beta</code>, etc.).</td></tr>
<tr><td>Features</td><td>Set the Cargo build features to use.</td></tr>
<tr><td>Environment Variables</td><td>Specify additional environment variables to set.</td></tr>
<tr><td>Extra Cargo Arguments</td><td>Extra arguments to include in the command line.</td></tr>
<tr><td>Default Package/Path</td><td>The default package to build, useful if you have a workspace with multiple Cargo packages. See <code>Multiple Cargo Projects</code> below.</td></tr>
</tbody></table>
<p>If you have multiple Cargo packages in your workspace, it will ask for the package to configure.</p>
<p>Caution: If you have not created a <code>sublime-project</code> file, then any changes you make will be lost if you close the Sublime window.</p>
<h2 id="settings"><a class="header" href="#settings">Settings</a></h2>
<p>Cargo settings are stored in the <code>&quot;cargo_build&quot;</code> Sublime setting.
This can be either in your <code>sublime-project</code> file or in <code>Users/RustEnhanced.sublime-settings</code>.
<code>&quot;cargo_build&quot;</code> is an object with the following keys:</p>
<table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&quot;paths&quot;</code></td><td>Settings for specific Cargo packages.</td></tr>
<tr><td><code>&quot;default_path&quot;</code></td><td>The default Cargo package to build (useful for workspaces, see below).</td></tr>
<tr><td><code>&quot;variants&quot;</code></td><td>Settings per build variant.</td></tr>
<tr><td><code>&quot;defaults&quot;</code></td><td>Default settings used if not set per target or variant.</td></tr>
</tbody></table>
<p>Paths should be an absolute path to the directory of a Cargo package, or the
path to a Rust source file (when used with <code>cargo script</code>).</p>
<p><code>&quot;paths&quot;</code> is an object of path keys mapping to an object with the keys:</p>
<table><thead><tr><th>Path Key</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&quot;defaults&quot;</code></td><td>Default settings used if not set per target or variant.</td></tr>
<tr><td><code>&quot;targets&quot;</code></td><td>Settings per target (such as <code>&quot;--lib&quot;</code> or <code>&quot;--bin foo&quot;</code>).</td></tr>
<tr><td><code>&quot;variants&quot;</code></td><td>Settings per build variant.</td></tr>
</tbody></table>
<p>An example of a <code>sublime-project</code> file:</p>
<pre><code class="language-json">{
    &quot;folders&quot;: [
        { &quot;path&quot;: &quot;.&quot; }
    ],
    &quot;settings&quot;: {
        &quot;cargo_build&quot;: {
            &quot;paths&quot;: {
                &quot;/path/to/package&quot;: {
                    &quot;defaults&quot;: {
                        &quot;release&quot;: false
                    },
                    &quot;targets&quot;: {
                        &quot;--example ex1&quot;: {
                            &quot;extra_run_args&quot;: &quot;-f file&quot;
                        }
                    },
                    &quot;variants&quot;: {
                        &quot;bench&quot;: {
                            &quot;toolchain&quot;: &quot;nightly&quot;
                        },
                        &quot;clippy&quot;: {
                            &quot;toolchain&quot;: &quot;nightly&quot;
                        }
                    }
                }
            },
            &quot;default_path&quot;: &quot;/path/to/package&quot;,
            &quot;variants&quot;: {
                &quot;run&quot;: {
                    &quot;env&quot;: {
                        &quot;RUST_BACKTRACE&quot;: &quot;1&quot;
                    }
                }
            },
            &quot;defaults&quot;: {
                &quot;release&quot;: true
            }
        }
    }
}
</code></pre>
<p>The available settings are:</p>
<table><thead><tr><th>Setting Name</th><th>Description</th></tr></thead><tbody>
<tr><td><code>target</code></td><td>The Cargo target (such as <code>&quot;--bin myprog&quot;</code>). Applies to <code>variants</code> only. Can be <code>&quot;auto&quot;</code> (see &quot;Automatic Detection&quot; above).</td></tr>
<tr><td><code>toolchain</code></td><td>The Rust toolchain to use (such as <code>nightly</code> or <code>beta</code>).</td></tr>
<tr><td><code>target_triple</code></td><td>If set, uses the <code>--target</code> flag with the given value.</td></tr>
<tr><td><code>release</code></td><td>If true, uses the <code>--release</code> flag.</td></tr>
<tr><td><code>features</code></td><td>A string with a space separated list of features to pass to the <code>--features</code> flag. Set to &quot;ALL&quot; to pass the <code>--all-features</code> flag.</td></tr>
<tr><td><code>extra_cargo_args</code></td><td>String of extra arguments passed to Cargo (before the <code>--</code> flags separator).</td></tr>
<tr><td><code>extra_run_args</code></td><td>String of extra arguments passed to Cargo (after the <code>--</code> flags separator).</td></tr>
<tr><td><code>env</code></td><td>Object of environment variables to add when running Cargo.</td></tr>
<tr><td><code>working_dir</code></td><td>The directory where to run Cargo. If not specified, uses the value from <code>default_path</code>, otherwise attempts to detect from the active view, or displays a panel to choose a Cargo package.</td></tr>
<tr><td><code>script_path</code></td><td>Path to a <code>.rs</code> script, used by <code>cargo script</code> if you want to hard-code a specific script to run.</td></tr>
<tr><td><code>no_default_features</code></td><td>If True, sets the <code>--no-default-features</code> flag.</td></tr>
</tbody></table>
<p>The extra args settings support standard Sublime variable expansion (see <a href="https://www.sublimetext.com/docs/build_systems.html">Build System Variables</a>).</p>
<h2 id="setting-precedence"><a class="header" href="#setting-precedence">Setting Precedence</a></h2>
<p>The Cargo commands will generally use the most specific setting available.
The order they are searched are (first found value wins):</p>
<ol>
<li><code>.sublime-project</code> &gt; Cargo Package &gt; Cargo Target</li>
<li><code>.sublime-project</code> &gt; Cargo Package &gt; Build Variant</li>
<li><code>.sublime-project</code> &gt; Cargo Package &gt; Defaults</li>
<li><code>.sublime-project</code> &gt; Build Variant</li>
<li><code>RustEnhanced.sublime-settings</code> &gt; Build Variant</li>
<li><code>.sublime-project</code> &gt; Defaults</li>
<li><code>RustEnhanced.sublime-settings</code> &gt; Defaults</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diagnostic-messages"><a class="header" href="#diagnostic-messages">Diagnostic Messages</a></h1>
<p>There are a variety of ways to display Rust compiler messages.
See <a href="build/../settings.html">Settings</a> for more details about how to configure settings.</p>
<h2 id="inline-phantoms-vs-output-panel"><a class="header" href="#inline-phantoms-vs-output-panel">Inline Phantoms vs Output Panel</a></h2>
<p>The <code>show_errors_inline</code> setting controls whether or not errors are shown inline with the code using Sublime's &quot;phantoms&quot;.
If it is <code>true</code>, it will also display an abbreviated message in the output panel.
If it is <code>false</code>, messages will only be displayed in the output panel, using rustc's formatting.</p>
<h3 id="show_errors_inline"><a class="header" href="#show_errors_inline"><code>show_errors_inline</code></a></h3>
<table><thead><tr><th>Value</th><th>Example</th></tr></thead><tbody>
<tr><td><code>true</code></td><td><img src="build/../images/show_errors_inline_true.png" alt="inline true" /></td></tr>
<tr><td><code>false</code></td><td><img src="build/../images/show_errors_inline_false.png" alt="inline false" /></td></tr>
</tbody></table>
<h2 id="popup-phantom-style"><a class="header" href="#popup-phantom-style">Popup Phantom Style</a></h2>
<p>Phantoms can be displayed inline with the code, or as a popup when the mouse hovers over an error (either the gutter icon or the error outline).
The <code>rust_phantom_style</code> setting controls this behavior.</p>
<h3 id="rust_phantom_style"><a class="header" href="#rust_phantom_style"><code>rust_phantom_style</code></a></h3>
<table><thead><tr><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>normal</code></td><td align="left">Phantoms are displayed inline.</td></tr>
<tr><td align="left"><code>popup</code></td><td align="left">Phantoms are displayed when the mouse hovers over an error.</td></tr>
<tr><td align="left"><code>none</code></td><td align="left">Phantoms are not displayed.</td></tr>
</tbody></table>
<p><img src="build/../images/messages_popup.gif" alt="popup phantom example" /></p>
<h3 id="popup-command"><a class="header" href="#popup-command">Popup Command</a></h3>
<p>You can bind the <code>rust_message_popup</code> command to a keyboard shortcut to force a popup to open if there is a message under the cursor.
Example:</p>
<pre><code class="language-json">{&quot;keys&quot;: [&quot;f8&quot;], &quot;command&quot;: &quot;rust_message_popup&quot;, &quot;context&quot;:
    [
        {&quot;key&quot;: &quot;selector&quot;, &quot;operator&quot;:&quot;equal&quot;, &quot;operand&quot;: &quot;source.rust&quot;}
    ]
}
</code></pre>
<h2 id="phantom-themes"><a class="header" href="#phantom-themes">Phantom Themes</a></h2>
<p>The style of the phantom messages is controlled with the <code>rust_message_theme</code> setting.
Currently the following themes are available:</p>
<h3 id="rust_message_theme"><a class="header" href="#rust_message_theme"><code>rust_message_theme</code></a></h3>
<table><thead><tr><th>Value</th><th>Example</th></tr></thead><tbody>
<tr><td><code>clear</code></td><td><img src="build/../images/theme_clear.png" alt="clear example" /></td></tr>
<tr><td><code>solid</code></td><td><img src="build/../images/theme_solid.png" alt="solid example" /></td></tr>
</tbody></table>
<h3 id="clear-theme-colors"><a class="header" href="#clear-theme-colors">Clear Theme Colors</a></h3>
<p>The <code>clear</code> theme is designed to integrate with your chosen Color Scheme.
You can customize the colors of the messages with the following settings.</p>
<table><thead><tr><th align="left">Setting</th><th align="left">Default</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>rust_syntax_error_color</code></td><td align="left"><code>&quot;var(--redish)&quot;</code></td><td align="left">Color of error messages.</td></tr>
<tr><td align="left"><code>rust_syntax_warning_color</code></td><td align="left"><code>&quot;var(--yellowish)&quot;</code></td><td align="left">Color of warning messages.</td></tr>
<tr><td align="left"><code>rust_syntax_note_color</code></td><td align="left"><code>&quot;var(--greenish)&quot;</code></td><td align="left">Color of note messages.</td></tr>
<tr><td align="left"><code>rust_syntax_help_color</code></td><td align="left"><code>&quot;var(--bluish)&quot;</code></td><td align="left">Color of help messages.</td></tr>
</tbody></table>
<h2 id="region-highlighting"><a class="header" href="#region-highlighting">Region Highlighting</a></h2>
<p>The span of code for a compiler message is by default highlighted with an outline.</p>
<h3 id="rust_region_style"><a class="header" href="#rust_region_style"><code>rust_region_style</code></a></h3>
<table><thead><tr><th align="left">Value</th><th align="left">Example</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>outline</code></td><td align="left"><img src="build/../images/region_style_outline.png" alt="outline" /></td><td align="left">Regions are highlighted with an outline.</td></tr>
<tr><td align="left"><code>solid_underline</code></td><td align="left"><img src="build/../images/region_style_solid_underline.png" alt="solid_underline" /></td><td align="left">Solid underline.</td></tr>
<tr><td align="left"><code>stippled_underline</code></td><td align="left"><img src="build/../images/region_style_stippled_underline.png" alt="stippled_underline" /></td><td align="left">Stippled underline.</td></tr>
<tr><td align="left"><code>squiggly_underline</code></td><td align="left"><img src="build/../images/region_style_squiggly_underline.png" alt="squiggly_underline" /></td><td align="left">Squiggly underline.</td></tr>
<tr><td align="left"><code>none</code></td><td align="left"><img src="build/../images/region_style_none.png" alt="none" /></td><td align="left">Regions are not highlighted.</td></tr>
</tbody></table>
<h2 id="gutter-images"><a class="header" href="#gutter-images">Gutter Images</a></h2>
<p>The gutter (beside the line numbers) will include an icon indicating the level of the message.
The styling of these icons is controlled with <code>rust_gutter_style</code>.</p>
<h3 id="rust_gutter_style"><a class="header" href="#rust_gutter_style"><code>rust_gutter_style</code></a></h3>
<table><thead><tr><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>shape</code></td><td align="left"><img src="build/../images/gutter-shape.png" alt="gutter shape" /></td></tr>
<tr><td align="left"><code>circle</code></td><td align="left"><img src="build/../images/gutter-circle.png" alt="gutter circle" /></td></tr>
<tr><td align="left"><code>none</code></td><td align="left">Do not display icons.</td></tr>
</tbody></table>
<h2 id="other-settings"><a class="header" href="#other-settings">Other Settings</a></h2>
<p>A few other settings are available for controlling messages:</p>
<table><thead><tr><th align="left">Setting</th><th align="left">Default</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>show_panel_on_build</code></td><td align="left"><code>true</code></td><td align="left">If true, an output panel is displayed at the bottom of the window showing the compiler output.</td></tr>
<tr><td align="left"><code>rust_syntax_hide_warnings</code></td><td align="left"><code>false</code></td><td align="left">If true, will not display warning messages.</td></tr>
<tr><td align="left"><code>rust_message_status_bar</code></td><td align="left"><code>false</code></td><td align="left">If true, will display the message under the cursor in the window status bar.</td></tr>
<tr><td align="left"><code>rust_message_status_bar_msg</code></td><td align="left"><code>&quot;Rust check running</code></td><td align="left">The message to display when the syntax check is running.</td></tr>
<tr><td align="left"><code>rust_message_status_bar_chars</code></td><td align="left"><code>[&quot;.&quot;, &quot;..&quot;, &quot;...&quot;, &quot;..&quot;]</code></td><td align="left">The characters shown in the status bar while a check is running.</td></tr>
<tr><td align="left"><code>rust_message_status_bar_update_delay</code></td><td align="left">200</td><td align="left">How often (ms) should the status bar text be updated when syntax checking.</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-build-variants"><a class="header" href="#custom-build-variants">Custom Build Variants</a></h1>
<p>You can define your own build system that takes advantage of the Cargo settings.
This is useful if you want to quickly switch between different configurations, or to add support for Cargo commands that are not already included.</p>
<p>The build variants are stored in your <code>.sublime-project</code> file.
To assist you in configuring a build variant, there is a Sublime command called <code>&quot;Rust: Create New Cargo Build Variant&quot;</code> which you can access from the Command Palette.
It will ask a series of questions, and when it is done it will automatically add the new build variant to your <code>.sublime-project</code> file.
Then use the &quot;Build With...&quot; command (Ctrl-Shift-B / ⌘-Shift-B) to select and execute your new variant.
The command will also copy over the stock build variants so you do not need to switch between build systems.</p>
<p>You can manually edit your <code>.sublime-project</code> file to change the settings.
The settings described above are under the <code>&quot;settings&quot;</code> key.
Additionally, there is a <code>&quot;command_info&quot;</code> key which describes the features the command supports.
The available values are:</p>
<table><thead><tr><th>Setting Name</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td><code>allows_target</code></td><td>False</td><td>If True, the command accepts cargo filters for determining which target to build (<code>--lib</code>, <code>--bin foo</code>, <code>--example bar</code>, etc.). Can also be a sequence of strings like <code>[&quot;bin&quot;, &quot;example&quot;]</code> to specify a subset of targets it supports.</td></tr>
<tr><td><code>allows_target_triple</code></td><td>False</td><td>If True, the command accepts triples like <code>--target x86_64-apple-darwin</code>.</td></tr>
<tr><td><code>allows_release</code></td><td>False</td><td>If True, allows <code>--release</code> flag.</td></tr>
<tr><td><code>allows_features</code></td><td>False</td><td>If True, allows feature flags.</td></tr>
<tr><td><code>allows_json</code></td><td>False</td><td>If True, allows <code>--message-format=json</code> flag.</td></tr>
<tr><td><code>json_stop_pattern</code></td><td>None</td><td>A regular expression matched against Cargo's output to detect when it should stop looking for JSON messages (used by <code>cargo run</code> to stop looking for JSON messages once compilation is finished).</td></tr>
<tr><td><code>requires_manifest</code></td><td>True</td><td>If True, the command must be run in a directory with a <code>Cargo.toml</code> manifest.</td></tr>
<tr><td><code>requires_view_path</code></td><td>False</td><td>If True, then the active view must be a Rust source file, and the path to that file will be passed into Cargo (used mainly by <code>cargo script</code>).</td></tr>
<tr><td><code>wants_run_args</code></td><td>False</td><td>If True, it will ask for extra args to pass to the executable (after the <code>--</code> flag separator).</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="on-save-checking"><a class="header" href="#on-save-checking">On-save checking</a></h1>
<p>Rust Enhanced will automatically run <code>cargo check</code> every time you save a <code>.rs</code> source file.
A small message will be shown in the status bar to indicate that the check is running.
If there are any errors or warnings, they will be displayed based on the settings described in the <a href="build/messages.html">Diagnostic Messages</a> chapter.</p>
<h2 id="on-save-settings"><a class="header" href="#on-save-settings">On-save settings</a></h2>
<p>There are a few settings for controlling the on-save behavior.
See the <a href="settings.html">Settings</a> chapter for more on how to configure these.</p>
<table><thead><tr><th align="left">Setting</th><th align="left">Default</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>rust_syntax_checking</code></td><td align="left"><code>true</code></td><td align="left">Enable the on-save syntax checking.</td></tr>
<tr><td align="left"><code>rust_syntax_checking_method</code></td><td align="left"><code>&quot;check&quot;</code></td><td align="left">The method used for checking your code (see below).</td></tr>
<tr><td align="left"><code>rust_syntax_checking_include_tests</code></td><td align="left"><code>true</code></td><td align="left">Enable checking of test code within <code>#[cfg(test)]</code> sections.</td></tr>
</tbody></table>
<p>The available checking methods are:</p>
<table><thead><tr><th align="left">Method</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left"><code>check</code></td><td align="left">Uses <code>cargo check</code> (requires at least Rust 1.16).</td></tr>
<tr><td align="left"><code>clippy</code></td><td align="left">Uses <code>cargo clippy</code>. This requires <a href="https://github.com/rust-lang/rust-clippy">Clippy</a> to be installed. This also may be a little slower since it must check every target in your package.</td></tr>
</tbody></table>
<p>This will use the same configuration options as the &quot;Check&quot; and &quot;Clippy&quot; build variants (for example, extra environment variables, or checking with different features).
See <a href="build/index.html">the build docs</a> for more information.</p>
<p>If a Cargo project has several build targets (<code>--lib</code>, <code>--bin</code>, <code>--example</code>, etc.), it will attempt to automatically detect the correct target, and only check that target.</p>
<p>In some rare cases, you may need to manually specify which target a file belongs to.
This can be done by adding a &quot;projects&quot; setting in <code>RustEnhanced.sublime-settings</code> with the following format:</p>
<pre><code>    &quot;projects&quot;: {
       // One entry per project. Keys are project names.
       &quot;my_cool_stuff&quot;: {
           // Path to the project root dir without trailing /src.
           &quot;root&quot;: &quot;/path/to/my/cool/stuff/project&quot;,

           // Targets will be used to replace {target} part in the command.
           // If no one target matches an, empty string will be used.
           &quot;targets&quot;: {
               &quot;bin/foo.rs&quot;: &quot;--bin foo&quot;,  // format is &quot;source_code_filename -&gt; target_name&quot;
               &quot;bin/bar.rs&quot;: &quot;--bin bar&quot;,
               &quot;_default&quot;: &quot;--lib&quot;         // or &quot;--bin main&quot;
           }
       }
   }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="settings-1"><a class="header" href="#settings-1">Settings</a></h1>
<p>To customize the settings, use the command from the Sublime menu:</p>
<pre><code>Preferences &gt; Package Settings &gt; Rust Enhanced &gt; Settings - User
</code></pre>
<p>This should open a window that shows the default settings along with a description of each one.
This also has a view on the right-hand side to edit the settings which will be stored in <code>Packages/User/RustEnhanced.sublime-settings</code>.
These settings will apply globally across all Sublime windows and projects.</p>
<h2 id="message-display"><a class="header" href="#message-display">Message display</a></h2>
<p>See the <a href="build/message.html">Diagnostic Messages</a> chapter for a description of the settings related to displaying diagnostic messages (warnings and errors generated by the compiler).</p>
<h2 id="build-settings-1"><a class="header" href="#build-settings-1">Build settings</a></h2>
<p>The build system can be configured with the <code>&quot;cargo_build&quot;</code> setting.
See the <a href="build/settings.html">Build Settings</a> chapter for a description of these settings and how to configure them.</p>
<h2 id="on-save-settings-1"><a class="header" href="#on-save-settings-1">On-save settings</a></h2>
<p>The on-save checking settings are described in the <a href="on-save.html#on-save-settings">On-save checking</a> chapter.</p>
<h2 id="project-specific-settings"><a class="header" href="#project-specific-settings">Project-specific settings</a></h2>
<p>You can customize settings per-project by adding settings to your <code>.sublime-project</code> file under the <code>&quot;settings&quot;</code> key.
For example, if you want to use Clippy as your default for <a href="on-save.html">on-save checking</a> in just one project, something like the following can be added to your <code>.sublime-project</code> file:</p>
<pre><code class="language-javascript">{
    // These are the folders opened in the project.
    &quot;folders&quot;: [
        { &quot;path&quot;: &quot;.&quot; }
    ],
    // Any Sublime settings can go here, including Rust Enhanced settings.
    &quot;settings&quot;: {
        // Changes the default on-save checking behavior to use Clippy.
        &quot;rust_syntax_checking_method&quot;: &quot;clippy&quot;,
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="context-menu"><a class="header" href="#context-menu">Context Menu</a></h1>
<p>You can access Sublime's context menu with a right click.</p>
<p><img src="images/rust_context.png" alt="Rust Context Menu" title="Rust Context Menu" /></p>
<h2 id="cargo-commands"><a class="header" href="#cargo-commands">Cargo Commands</a></h2>
<p>A variety of Cargo commands are available here for quick access so you don't have to frequently switch your build system variant.
Some of them are context-sensitive, based on where you click the mouse.</p>
<ul>
<li><strong>Clean</strong>: <code>cargo clean</code> to remove build artifacts.</li>
<li><strong>Check</strong>: <code>cargo check</code> to quickly check your package for errors.</li>
<li><strong>Clippy</strong>: <code>cargo clippy</code> to run <a href="https://github.com/rust-lang/rust-clippy">Clippy</a> on your source.</li>
</ul>
<hr />
<ul>
<li><strong>Test Here</strong>: Runs just the one test underneath the cursor.
A similar command is also available in the Sublime Command Palette as &quot;Rust: Run Test At Cursor&quot;.</li>
<li><strong>Test Current File</strong>: Runs all tests in the current file.</li>
<li><strong>Test All</strong>: Runs all tests in the package.</li>
</ul>
<hr />
<ul>
<li><strong>Bench Here</strong>: Runs just the one benchmark underneath the cursor.</li>
<li><strong>Bench Current File</strong>: Runs all benchmarks in the current file.</li>
<li><strong>Bench All</strong>: Runs all benchmarks in the package.</li>
</ul>
<hr />
<ul>
<li><strong>Run This File</strong>: <code>cargo run</code> the current file.</li>
<li><strong>Doc</strong>: <code>cargo doc</code> to generate documentation.</li>
<li><strong>Cancel Build</strong>: Cancel the current build.
Also available with keyboard shortcuts, see <a href="build/index.html">build docs</a>.</li>
<li><strong>Open Debug Log</strong>: Open a view to display debug messages generated by the Rust Enhanced plugin.</li>
</ul>
<h2 id="message-commands"><a class="header" href="#message-commands">Message Commands</a></h2>
<ul>
<li><strong>Clear Messages</strong>: Remove inline error/warning messages.
Also available with the Esc key, or click the × symbol in the message.</li>
<li><strong>List All Messages</strong>: Show a quick panel popup with a list of all current messages.</li>
</ul>
<h2 id="settings-commands"><a class="header" href="#settings-commands">Settings Commands</a></h2>
<ul>
<li><strong>Open Settings</strong>: Open the Rust Enhanced settings.</li>
<li><strong>Configure Cargo Build</strong>: Run the command to interactively configure Cargo build settings stored in your Sublime project file.
See <a href="build/settings.html#configure-command">Configure Command</a>.</li>
<li><strong>On-Save Checking</strong>: Toggle <code>cargo check</code> running every time you save a Rust file (see <a href="on-save.html">On-save checking</a>).</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-servers"><a class="header" href="#language-servers">Language Servers</a></h1>
<p>The Rust Enhanced package does not currently provide any assistance with setting up a <a href="https://microsoft.github.io/language-server-protocol/">Language Server</a>.
Language Servers are processes that run in the background and provide support for a wide range of syntax analysis, code refactoring, and much more.</p>
<p>There are two language server implementations for Rust:</p>
<ul>
<li><a href="https://github.com/rust-lang/rls">RLS (Rust Language Server)</a></li>
<li><a href="https://rust-analyzer.github.io/">rust-analyzer</a></li>
</ul>
<p>RLS is being replaced by rust-analyzer, and it is recommended to use rust-analyzer at this time.</p>
<p>To use one of the language servers, you need to install the <a href="https://github.com/sublimelsp/LSP">Sublime LSP</a> plugin.
With both the plugin and one of the above servers installed, you should be able to follow the <a href="https://lsp.readthedocs.io/en/latest/">LSP docs</a> for how to configure the server.
Generally this involves running either the <code>LSP: Enable Language Server Globally</code> or <code>LSP: Enable Language Server in Project</code> and then selecting either <code>rls</code> or <code>rust-analyzer</code>.
Depending on the size of your project, it may take some time for it to process and index.</p>
<p>Note that as well as error checking, code-completion, and renaming, RLS can run <a href="https://github.com/rust-lang/rustfmt"><code>rustfmt</code></a> on your code: right-click, and select <code>LSP &gt; Format Document</code> or <code>Format Selection</code> in a Rust source file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="formatting"><a class="header" href="#formatting">Formatting</a></h1>
<p>The Rust Enhanced package does not currently provide any assistance with setting up automatic code formatting using <a href="https://github.com/rust-lang/rustfmt">rustfmt</a>.
The <a href="https://packagecontrol.io/packages/RustFmt">RustFmt</a> package on <a href="https://packagecontrol.io/">Package Control</a> provides automatic formatting support.
<a href="lsp.html">Language servers</a> can also provide this ability.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tips"><a class="header" href="#tips">Tips</a></h1>
<p>Some tips for working with Rust in Sublime Text:</p>
<ul>
<li>
<p>Use the Goto commands to quickly navigate the code.
These commands make use of the syntax highlighting to detect symbols that are important, such as function names, type definitions, etc.
These commands are:</p>
<table><thead><tr><th>Command</th><th>Keybind</th><th>Description</th></tr></thead><tbody>
<tr><td>Goto Symbol</td><td>Ctrl-R / ⌘-R</td><td>Jump to a symbol in the current file.</td></tr>
<tr><td>Goto Symbol in Project</td><td>Ctrl-Shift-R / ⌘-Shift-R</td><td>Jump to a symbol in the current project.</td></tr>
<tr><td>Goto Definition</td><td>F12</td><td>Jump to the definition of the symbol currently under the cursor.</td></tr>
</tbody></table>
</li>
<li>
<p>Use <a href="https://www.sublimetext.com/docs/projects.html">Sublime Projects</a>.
This can help organize different projects, remembers the state of the window, and allows you to set custom settings for a specific project.</p>
</li>
<li>
<p>When using on-save checking, or running a build, use the next/previous message keybindings to jump between the messages.
See <a href="build/index.html#usage">Build usage</a> for more.</p>
</li>
<li>
<p>When running Cargo tests with the <a href="build/index.html">test build command</a>, if a test fails, the Next/Previous message commands should jump to the line where the test failed.</p>
</li>
<li>
<p>Several <a href="https://github.com/rust-lang/rust-enhanced/tree/master/snippets">snippets</a> are provided, which are simple patterns that are triggered with auto-completion.
You can even write your own <a href="https://docs.sublimetext.io/guide/extensibility/snippets.html">custom snippets</a>.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
